<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="map[name:Austin Barnes]"><meta name=description content="Converting Azure resources to Terraform resources"><meta name=keywords content=",terraform,aztfy,automation,azure,windows-server"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://www.cinderblook.com/projects/terraform-azure-resource-conversion/><title>Terraform - Converting Azure Resources :: Austin Barnes â€” Personal Site</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=https://www.cinderblook.com/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css><link rel=apple-touch-icon sizes=180x180 href=https://www.cinderblook.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://www.cinderblook.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.cinderblook.com/favicon-16x16.png><link rel=manifest href=https://www.cinderblook.com/site.webmanifest><link rel=mask-icon href=https://www.cinderblook.com/safari-pinned-tab.svg color><link rel="shortcut icon" href=https://www.cinderblook.com/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Terraform - Converting Azure Resources"><meta itemprop=description content="Converting Azure resources to Terraform resources"><meta itemprop=datePublished content="2022-04-27T00:00:00+00:00"><meta itemprop=dateModified content="2022-04-27T00:00:00+00:00"><meta itemprop=wordCount content="213"><meta itemprop=image content="https://www.cinderblook.com/"><meta itemprop=keywords content="terraform,aztfy,automation,azure,windows-server,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.cinderblook.com/"><meta name=twitter:title content="Terraform - Converting Azure Resources"><meta name=twitter:description content="Converting Azure resources to Terraform resources"><meta property="og:title" content="Terraform - Converting Azure Resources"><meta property="og:description" content="Converting Azure resources to Terraform resources"><meta property="og:type" content="article"><meta property="og:url" content="https://www.cinderblook.com/projects/terraform-azure-resource-conversion/"><meta property="og:image" content="https://www.cinderblook.com/"><meta property="article:section" content="projects"><meta property="article:published_time" content="2022-04-27T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-27T00:00:00+00:00"><meta property="og:see_also" content="https://www.cinderblook.com/projects/terraform-proxmox-vm-deploy/"><meta property="og:see_also" content="https://www.cinderblook.com/projects/terraform-azure-k8s-deploy/"><meta property="og:see_also" content="https://www.cinderblook.com/projects/terraform-azure-serv-deploy/"><meta property="og:see_also" content="https://www.cinderblook.com/projects/terraform-vsphere-winserv-deployment/"><meta property="article:section" content="Projects"><meta property="article:section" content="Terraform"><meta property="article:section" content="aztfy"><meta property="article:section" content="Azure"><meta property="article:section" content="Linux"><meta property="article:published_time" content="2022-04-27 00:00:00 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=https://www.cinderblook.com/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ cd /home/</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://www.cinderblook.com/about>About</a></li><li><a href=https://www.cinderblook.com/projects>Projects</a></li><li><a href=https://www.cinderblook.com/sites>Sites</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://www.cinderblook.com/projects/terraform-azure-resource-conversion/>Terraform - Converting Azure Resources</a></h2><div class=post-content><h1 id=overview>Overview</h1><p>Convert existing resources in Azure to Terraform files (Terrafy/aztfy)</p><ul><li>Microsoft Recently released a sweet tool called aztfy. This enables you to &rsquo;terrafy&rsquo; existing Azure resources. This effectively allows for total conversions of existing data in Azure to be modified and updated/managed using Terraform. Whether it be for backup reasons, future management of resource changes, or cloud implmentation purposes, this could prove extremely useful.</li></ul><h1 id=prerequisites>Prerequisites</h1><ul><li>Have Go installed in your dev environment<ul><li>For Windows, go to <a href=https://go.dev/doc/install>this site</a> and install Go</li></ul></li><li>Go to Microsoft&rsquo;s Azure Aztfy <a href=https://github.com/Azure/aztfy>Github Page</a><ul><li>Pull the repository to your local machine and install the go module they provide for aztfy<ul><li><pre tabindex=0><code>git clone https://github.com/Azure/aztfy
cd &#34;Directory-You-Cloned-To&#34;
go install 
</code></pre></li></ul></li></ul></li></ul><h1 id=using-aztfy>Using Aztfy</h1><p>Once you have a resource group in Azure, you can run the following command to pull specific resources from that group</p><ul><li><code>aztfy Azure-Resource-Group-Here</code></li></ul><p>From here, you can navigate each individual resource within that group and import them individually from Azure to your local machine. It generates the .tf files, terraform state files, and all necessary JSON components.</p><ul><li>Example of Aztfy Result:
<img src=https://www.cinderblook.com/aztfy-example1.png alt=JRCustomHomes title=aztfy-example1></li></ul><p>Navigate into directory you cloned aztfy to, and double check the clone worked by attempting a <code>terraform apply</code> and if it says no changes needed, you are solid!</p><h1 id=useful-resources>Useful Resources</h1><h2 id=terraform-resources>Terraform Resources</h2><ul><li>Microsoft <a href=https://techcommunity.microsoft.com/t5/azure-tools-blog/announcing-azure-terrafy-and-azapi-terraform-provider-previews/ba-p/3270937>Blog Post</a></li><li>Azure <a href=https://docs.microsoft.com/en-us/azure/developer/terraform/overview-azapi-provider>Documentation for AzAPI</a></li></ul></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://www.cinderblook.com/tags/terraform/>terraform</a></span>
<span class=tag><a href=https://www.cinderblook.com/tags/aztfy/>aztfy</a></span>
<span class=tag><a href=https://www.cinderblook.com/tags/automation/>automation</a></span>
<span class=tag><a href=https://www.cinderblook.com/tags/azure/>azure</a></span>
<span class=tag><a href=https://www.cinderblook.com/tags/windows-server/>windows-server</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg><span class=tag><a href=https://www.cinderblook.com/categories/projects/>Projects</a></span>
<span class=tag><a href=https://www.cinderblook.com/categories/terraform/>Terraform</a></span>
<span class=tag><a href=https://www.cinderblook.com/categories/aztfy/>aztfy</a></span>
<span class=tag><a href=https://www.cinderblook.com/categories/azure/>Azure</a></span>
<span class=tag><a href=https://www.cinderblook.com/categories/linux/>Linux</a></span></p></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2022</span>
<span><a href=https://www.cinderblook.com/>Austin Barnes</a></span>
<span><a href=https://www.cinderblook.com/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div></footer></div><script type=text/javascript src=https://www.cinderblook.com/bundle.min.a2c5b062c87998f04d1b5dfb6a89a1b2d79786c21d0cb63a05e8a2082984b64b77d80955e3b97eab17273775162ba372511b711fea2f7608f216e68a67bb22d6.js integrity="sha512-osWwYsh5mPBNG137aomhsteXhsIdDLY6BeiiCCmEtkt32AlV47l+qxcnN3UWK6NyURtxH+ovdgjyFuaKZ7si1g=="></script></body></html>